"use strict";(()=>{var e={};e.id=3748,e.ids=[3748],e.modules={11185:e=>{e.exports=require("mongoose")},47459:e=>{e.exports=require("next-auth/providers/github")},93598:e=>{e.exports=require("next-auth/providers/google")},20145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},65210:(e,t,r)=>{r.r(t),r.d(t,{config:()=>T,default:()=>m,routeModule:()=>q});var i={};r.r(i),r.d(i,{GET:()=>E,POST:()=>E,authOptions:()=>w,default:()=>O});var n=r(71802),a=r(47153),s=r(56249);let o=require("next-auth/next");var l=r.n(o);let u=require("next-auth/providers/credentials");var c=r.n(u),p=r(47459),d=r.n(p),h=r(93598),g=r.n(h);let v=require("bcryptjs");var x=r.n(v),_=r(32828),f=r(62091);let w={providers:[c()({name:"credentials",credentials:{},async authorize(e){let{email:t,password:r}=e;try{await (0,_.q)();let e=await f.Z.findOne({email:t});if(!e)return null;let i=await x().compare(r,e.password);if(!i)return null;return e}catch(e){console.log("Error: ",e)}}}),g()({clientId:process.env.GOOGLE_ID,clientSecret:process.env.GOOGLE_SECRET}),d()({clientId:process.env.GITHUB_ID,clientSecret:process.env.GITHUB_SECRET})],session:{strategy:"jwt"},secret:process.env.NEXTAUTH_SECRET,pages:{signIn:"/login"},callbacks:{async signIn({user:e,account:t}){if(t?.provider==="google"||t?.provider==="github")try{await (0,_.q)();let{email:t}=e,r=await f.Z.findOne({email:t});if(!r){let e=await fetch("http://localhost:3000/api/signUpOAuth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})});e.ok}}catch(e){console.log("Error signing in with OAuth Provider")}return!0}}},E=l()(w),O=E,m=(0,s.l)(i,"default"),T=(0,s.l)(i,"config"),q=new n.PagesAPIRouteModule({definition:{kind:a.x.PAGES_API,page:"/api/auth/[...nextauth]",pathname:"/api/auth/[...nextauth]",bundlePath:"",filename:""},userland:i})}};var t=require("../../../webpack-api-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[4222,1813],()=>__webpack_exec__(65210));module.exports=r})();