"use strict";exports.id=1613,exports.ids=[1613],exports.modules={71613:(e,t,a)=>{a.r(t),a.d(t,{POST:()=>POST});var s=a(99413),n=a(73502),r=a(75727),o=a(68460),d=a.n(o);async function POST(e){try{await (0,n.q)();let{email:t,newPW1:a}=await e.json(),o=await r.Z.findOne({email:t}).select("_id"),i=await d().hash(a,10);return await o?.updateOne({password:i}),s.Z.json({message:"Password updated"},{status:201})}catch(e){return s.Z.json({message:"An error occured while updating user password."},{status:500})}}},73502:(e,t,a)=>{a.d(t,{q:()=>connectMongoDB});var s=a(11185),n=a.n(s);let connectMongoDB=async()=>{try{await n().connect(process.env.MONGODB_URI),console.log("Database connection established")}catch(e){console.log("Unable to connect to database: ",e)}}},75727:(e,t,a)=>{a.d(t,{Z:()=>d});var s=a(11185),n=a.n(s);let r=new s.Schema({email:{type:String,required:!0,unique:!0},username:{type:String,required:!0},password:{type:String,default:null},level:{type:Number,default:1},awards:{type:Array,default:["OG User: first 100 users"]},team_id:{type:Number,default:null}},{timestamps:!0}),o=s.models.User||n().model("User",r),d=o}};