"use strict";exports.id=4073,exports.ids=[4073],exports.modules={44073:(e,s,a)=>{a.r(s),a.d(s,{POST:()=>POST});var t=a(95798),n=a(24837),i=a(18517),o=a(87812),r=a(62421),c=a.n(r);async function POST(e){try{await (0,n.q)();let{name:s,password:a,userEmail:r}=await e.json(),d=await i.Z.findOne({name:s});if(d)return t.Z.json({message:"Team name already exists"},{status:401});console.log("Passed existingTeam check");let l=await c().hash(a,10);console.log("Passed hashedPass check");let m=await o.Z.findOne({email:r});console.log("Passed findUser check");let u=await i.Z.create({name:s,password:l,members:[m._id]});return console.log("Passed team creation check",u._id),await o.Z.updateOne({_id:m._id},{$set:{team_id:u._id}}),console.log("Passed update user check"),t.Z.json({message:"New team created"},{status:201})}catch(e){return t.Z.json({message:"An error occurred while creating a new team."},{status:500})}}}};