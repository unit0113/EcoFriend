"use strict";exports.id=9991,exports.ids=[9991],exports.modules={29991:(e,t,a)=>{a.r(t),a.d(t,{POST:()=>POST});var s=a(99413),n=a(73502),i=a(92989),r=a(75727);async function POST(e){try{await (0,n.q)();let{userEmail:t}=await e.json(),a=await r.Z.findOne({email:t}),d=await i.Z.findOne({_id:a.team_id});if(!d)return s.Z.json({message:"Team not found"},{status:400});return await d.updateOne({$pull:{members:a._id}}),await a.updateOne({team_id:null}),0==d.members.length&&await i.Z.deleteOne(d._id),s.Z.json({message:"Removed from team"},{status:201})}catch(e){return s.Z.json({message:"An error occured while leaving a team."},{status:500})}}}};