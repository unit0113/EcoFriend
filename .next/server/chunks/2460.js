"use strict";exports.id=2460,exports.ids=[2460],exports.modules={22460:(e,s,a)=>{a.r(s),a.d(s,{POST:()=>POST});var t=a(95798),n=a(24837),r=a(18517),i=a(87812),o=a(62421),u=a.n(o);async function POST(e){try{await (0,n.q)();let{name:s,password:a,userEmail:o}=await e.json(),d=await r.Z.findOne({name:s});if(!d)return t.Z.json({message:"Team not found"},{status:400});let m=await u().compare(a,d.password);if(!m)return t.Z.json({message:"Invalid team password"},{status:403});if(d.members.length>=4)return t.Z.json({message:"Team is full"},{status:401});let w=await i.Z.findOne({userEmail:o});return await d.updateOne({$push:{members:w._id}}),await w.updateOne({team_id:d._id}),t.Z.json({message:"Team Joined"},{status:201})}catch(e){return t.Z.json({message:"An error occured while joining a team."},{status:500})}}}};